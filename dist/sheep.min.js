(function(e,t){var n=e.define,r,i,t;(function(e){function p(e,t){var n,r,i,s,o,u,a,f,c,h,p=t&&t.split("/"),d=l.map,v=d&&d["*"]||{};if(e&&e.charAt(0)==="."&&t){p=p.slice(0,p.length-1),e=p.concat(e.split("/"));for(f=0;f<e.length;f+=1){h=e[f];if(h===".")e.splice(f,1),f-=1;else if(h===".."){if(f===1&&(e[2]===".."||e[0]===".."))break;f>0&&(e.splice(f-1,2),f-=2)}}e=e.join("/")}if((p||v)&&d){n=e.split("/");for(f=n.length;f>0;f-=1){r=n.slice(0,f).join("/");if(p)for(c=p.length;c>0;c-=1){i=d[p.slice(0,c).join("/")];if(i){i=i[r];if(i){s=i,o=f;break}}}if(s)break;!u&&v&&v[r]&&(u=v[r],a=f)}!s&&u&&(s=u,o=a),s&&(n.splice(0,o,s),e=n.join("/"))}return e}function d(t,n){return function(){return s.apply(e,h.call(arguments,0).concat([t,n]))}}function v(e){return function(t){return p(t,e)}}function m(e){return function(t){a[e]=t}}function g(t){if(f.hasOwnProperty(t)){var r=f[t];delete f[t],c[t]=!0,n.apply(e,r)}if(!a.hasOwnProperty(t)&&!c.hasOwnProperty(t))throw new Error("No "+t);return a[t]}function y(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function b(e){return function(){return l&&l.config&&l.config[e]||{}}}var n,s,o,u,a={},f={},l={},c={},h=[].slice;o=function(e,t){var n,r=y(e),i=r[0];return e=r[1],i&&(i=p(i,t),n=g(i)),i?n&&n.normalize?e=n.normalize(e,v(t)):e=p(e,t):(e=p(e,t),r=y(e),i=r[0],e=r[1],i&&(n=g(i))),{f:i?i+"!"+e:e,n:e,pr:i,p:n}},u={require:function(e){return d(e)},exports:function(e){var t=a[e];return typeof t!="undefined"?t:a[e]={}},module:function(e){return{id:e,uri:"",exports:a[e],config:b(e)}}},n=function(t,n,r,i){var s,l,h,p,v,y=[],b;i=i||t;if(typeof r=="function"){n=!n.length&&r.length?["require","exports","module"]:n;for(v=0;v<n.length;v+=1){p=o(n[v],i),l=p.f;if(l==="require")y[v]=u.require(t);else if(l==="exports")y[v]=u.exports(t),b=!0;else if(l==="module")s=y[v]=u.module(t);else if(a.hasOwnProperty(l)||f.hasOwnProperty(l)||c.hasOwnProperty(l))y[v]=g(l);else{if(!p.p)throw new Error(t+" missing "+l);p.p.load(p.n,d(i,!0),m(l),{}),y[v]=a[l]}}h=r.apply(a[t],y);if(t)if(s&&s.exports!==e&&s.exports!==a[t])a[t]=s.exports;else if(h!==e||!b)a[t]=h}else t&&(a[t]=r)},r=i=s=function(t,r,i,a,f){return typeof t=="string"?u[t]?u[t](r):g(o(t,r).f):(t.splice||(l=t,r.splice?(t=r,r=i,i=null):t=e),r=r||function(){},typeof i=="function"&&(i=a,a=f),a?n(e,t,r,i):setTimeout(function(){n(e,t,r,i)},15),s)},s.config=function(e){return l=e,s},t=function(e,t,n){t.splice||(n=t,t=[]),f[e]=[e,t,n]},t.amd={jQuery:!0}})(),t("../vendor/almond",function(){}),t("coffee-script",{}),t("cs",{load:function(e){throw new Error("Dynamic load not allowed: "+e)}}),function(){t("cs!sheep/core",[],function(){var e;return e={VERSION:"0.1.0"},e})}.call(this),function(){t("cs!sheep/drawable/displayObject",[],function(){var e;return e=function(){function e(e,t,n,r,i){this.x=e,this.y=t,this.w=n,this.h=r,this.world=i,this.visible=!0,this._mouseEnabled=!1,this._mouseIn=!1;if(this._cacheCanvas==null||this._cacheContext==null)this._cacheCanvas=nemeria.util.createCanvas();this._cacheCanvas.width=n,this._cacheCanvas.height=r,this._cacheContext=this._cacheCanvas.getContext("2d")}return e._cacheCanvas=null,e._cacheContext=null,e._world=null,e.visible=!0,e._mouseEnabled=!1,e._mouseIn=!1,e.hitable=!1,e.parent=null,e.x=0,e.y=0,e.w=0,e.h=0,e.prototype.getAlpha=function(){return this._cacheContext.globalAlpha},e.prototype.setAlpha=function(e){if(Math.abs(this._cacheContext.globalAlpha-e)>.001)return this._cacheContext.globalAlpha=e,this.invalidate()},e.prototype.absoluteX=function(){return this.parent!=null?this.parent.absoluteX()+this.x:this.x},e.prototype.absoluteY=function(){return this.parent!=null?this.parent.absoluteY()+this.y:this.y},e.prototype.invalidate=function(e){if(this.w>0&&this.h>0&&this.parent!=null)return e={x:this.x,y:this.y,w:this.w,h:this.h},this.parent.invalidate(e)},e.prototype.clear=function(){return this._cacheContext.clearRect(0,0,this.w,this.h)},e.prototype.draw=function(e){return e!=null?(e.drawImage(this._cacheCanvas,this.x,this.y,this.w,this.h),!0):!1},e.prototype.drawPart=function(e,t){return e!=null&&t.w>0&&t.h>0?(e.drawImage(this._cacheCanvas,t.x-this.x,t.y-this.y,t.w,t.h,t.x,t.y,t.w,t.h),!0):!1},e.prototype.uncache=function(){},e.prototype.isVisible=function(){return this.visible&&this.getAlpha()>0},e.prototype.getMouseEnabled=function(){return this._mouseEnabled},e.prototype.setMouseEnabled=function(e){if(this._mouseEnabled!==e){this._mouseEnabled=e;if(this.parent!=null&&this.parent.getMouseEnabled()!==e)return this.parent.setMouseEnabled(e)}},e.prototype.click=function(e,t){var n,r;return n=e-this.x,r=t-this.y,this._cacheContext.getImageData(n,r,1,1).data[3]>10?(this.hitable&&this.onClick(n,r),!0):!1},e.prototype.onClick=function(){},e.prototype.mouseOver=function(e,t){var n,r;n=e-this.x,r=t-this.y;if(n>=0&&r>=0&&this._cacheContext.getImageData(n,r,1,1).data[3]>10){if(this._mouseIn!=null||!this._mouseIn)this._mouseIn=!0,this.onMouseEnter(n,r);return this.onMouseOver(n,r),!0}return this._mouseIn&&(this._mouseIn=!1,this.onMouseOut(n,r)),!1},e.prototype.onMouseOver=function(e,t){},e.prototype.onMouseEnter=function(e,t){},e.prototype.onMouseOut=function(){},e.prototype.moveTo=function(e,t){var n;if(this.x!==e||this.y!==t)return n=this.visible,this.visible=!1,this.invalidate(),this.x=e,this.y=t,this.visible=n,this.parent&&this.parent.sortByY(),this.invalidate()},e}(),e})}.call(this),function(){var e={}.hasOwnProperty,n=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};t("cs!sheep/drawable/bitmap",["cs!sheep/drawable/displayObject"],function(e){var t;return t=function(e){function t(e,n,r,i,s,o){t.__super__.constructor.call(this,e,n,r,i,s),typeof o=="string"?(this.image=new Image,this.image.src=o):this.image=o,this.uncache()}return n(t,e),t.image=null,t.sourceRect=null,t.prototype.uncache=function(){var e;if(this.image)return this.image.complete||this.image.readyState==="complete"||this.image.readyState===4?(this.clear(),this.sourceRect==null?this._cacheContext.drawImage(this.image,0,0,this.w,this.h):this._cacheContext.drawImage(this.image,this.sourceRect.x,this.sourceRect.y,this.sourceRect.w,this.sourceRect.h,0,0,this.w,this.h),this.invalidate()):(e=this,this.image.onload=function(){return e.uncache()})},t.prototype.isVisible=function(){return this.visible&&this.getAlpha()>0&&this.image!=null&&(this.image.complete||this.image.readyState==="complete"||this.image.readyState===4)},t}(e),t})}.call(this),t("sheep",["require","cs!sheep/core","cs!sheep/drawable/displayObject","cs!sheep/drawable/bitmap"],function(e){var t;return t=e("cs!sheep/core"),t.DisplayObject=e("cs!sheep/drawable/displayObject"),t.Bitmap=e("cs!sheep/drawable/bitmap"),t});var s=i("sheep");typeof module!="undefined"&&module.exports?module.exports=s:n?function(e){e(function(){return s})}(n):e.sheep=s})(this);